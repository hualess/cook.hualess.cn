import{_ as x}from"./BJ1u_Q6V.js";import{_ as g}from"./t7AyP0FB.js";import{C as h,O as w,D as k,i as y,E as m,f as C,o as u,c as d,a as n,j as r,t as R,I as $,J as B,F as f,r as D,g as N,l as V,b as p,w as j,d as A}from"./DnIBYzVF.js";import{_ as M}from"./DlAUqK2U.js";function S(){const t=h("count",5);function o(){t.value+=1}function e(){t.value<=1||(t.value-=1)}return{count:t,inc:o,dec:e}}function E(t,o=1){const e=[];for(let s=0;s<o;s++){const i=Math.floor(Math.random()*t);if(e.includes(i)){s--;continue}e.push(i)}return e}function F(t){const o=h(`${w}:random:recipes`,[]);async function e(){const s=await m.recipes.count(),i=E(s,t.value),a=await m.recipes.bulkGet(i);a&&(o.value=a.filter(_=>!!_))}return k(t,()=>{e()}),y(()=>{o.value.length<=0&&e()}),{random:e,randomRecipes:o}}const I={"inline-flex":"",m:"y-3"},T=n("div",{"i-carbon-subtract":""},null,-1),G=[T],H={font:"mono",w:"15","m-auto":"","inline-block":""},J=n("div",{"i-carbon-add":""},null,-1),L=[J],O=n("div",{class:"transition",hover:"text-blue-500","i-ri-refresh-line":"","mr-1":"","inline-flex":""},null,-1),q=n("div",null,"随机一下",-1),z=[O,q],K={m:"t-8",flex:"~ col"},P=C({__name:"RandomRecipe",setup(t){const{count:o,inc:e,dec:s}=S(),{random:i,randomRecipes:a}=F(o);return(_,c)=>{const v=g;return u(),d(f,null,[n("div",I,[n("button",{"rounded-full":"","p-2":"",btn:"",onClick:c[0]||(c[0]=l=>r(s)())},G),n("div",H,R(r(o)),1),n("button",{"rounded-full":"","p-2":"",btn:"",onClick:c[1]||(c[1]=l=>r(e)())},L)]),n("button",{"cursor-pointer":"",class:"inline-flex inline-flex items-center justify-center rounded-md border-none bg-blue-600 px-3 py-1.5 text-sm text-white font-semibold leading-6 shadow-sm hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-blue-600 focus-visible:outline-offset-2 focus-visible:outline",onClick:c[2]||(c[2]=(...l)=>r(i)&&r(i)(...l))},z),$(n("div",null,[n("div",K,[(u(!0),d(f,null,D(r(a),(l,b)=>(u(),d(f,{key:b},[l?(u(),N(v,{key:0,dish:l},null,8,["dish"])):V("",!0)],64))),128))])],512),[[B,r(a).length>0]])],64)}}}),Q={},U={flex:"","flex-col":""},W={flex:"","flex-grow":"","flex-col":"","items-center":"","justify-center":""};function X(t,o){const e=x,s=P;return u(),d("div",U,[p(e,null,{default:j(()=>[A(" 今天吃什么 ")]),_:1}),n("div",W,[p(s)])])}const te=M(Q,[["render",X]]);export{te as default};
